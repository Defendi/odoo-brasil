<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<menuitem id="menu_foreign_commerce" name="Foreign Commerce" 
	          groups="account.group_account_user,account.group_account_manager,account.group_account_invoice" 
	          web_icon="br_foreign_commerce,static/description/icon_mn.png" sequence="50"/>
	<menuitem id="menu_fc_import" name="Import" parent="menu_foreign_commerce" sequence="5"/>
	<menuitem id="menu_fc_export" name="Export" parent="menu_foreign_commerce" sequence="5"/>

    <record id="view_br_fc_import_declaration_tree" model="ir.ui.view">
        <field name="name">br_fc.import.declaration.tree</field>
        <field name="model">br_account.import.declaration</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="invoice_id" invisible="1"/>
                <field name="date_registration"/>
                <field name="location"/>
                <field name="state_id"/>
                <field name="date_release"/>
                <field name="type_transportation"/>
            </tree>
        </field>
    </record>

    <record id="view_br_fc_import_declaration_form" model="ir.ui.view">
        <field name="name">br_fc.import.declaration.form</field>
        <field name="model">br_account.import.declaration</field>
        <field name="arch" type="xml">
            <form string="Declaração de Importação">
            	<sheet>
	                <group>
	                    <group>
	                        <field name="name"/>
	                        <field name="date_registration"/>
	                        <field name="state_id" options="{'no_create': True, 'no_create_edit': True}"/>
	                        <field name="location"/>
	                        <field name="date_release"/>
	                        <field name="type_transportation" />
	                    </group>
	                    <group>
	                        <field name="afrmm_value" />
	                        <field name="type_import" />
	                        <field name="thirdparty_cnpj" />
	                        <field name="thirdparty_state_id" options="{'no_create': True, 'no_create_edit': True}"/>
	                        <field name="exporting_code"/>
	                        <field name="invoice_id"/>
	                    </group>
	                    <group string="Adições" colspan="4">
	                        <field name="line_ids" nolabel="1">
					            <tree>
					                <field name="sequence"/>
					                <field name="name"/>
					                <field name="manufacturer_code"/>
					                <field name="amount_discount"/>
					                <field name="drawback_number" />
					            </tree>
					            <form>
					            	<sheet>
						                <group>
						                    <field name="sequence"/>
						                    <field name="name"/>
						                    <field name="manufacturer_code"/>
						                    <field name="amount_discount"/>
						                    <field name="drawback_number"/>
						                </group>
						            </sheet>
					            </form>
	                        </field>
	                    </group>
	                    <group string="Informações Adicionais" colspan="4">
	                    	<field name="additional_information" nolabel="1"/>
	                    </group>
	                </group>
	            </sheet>
            </form>
        </field>
    </record>

    <record id="view_br_fc_import_declaration_search" model="ir.ui.view">
        <field name="name">br_fc.import.declaration.search</field>
        <field name="model">br_account.import.declaration</field>
        <field name="arch" type="xml">
            <search>
            	<field name="name" />
                <field name="invoice_id" />
            </search>
        </field>
    </record>

	<record id="action_br_fc_import_declaration" model="ir.actions.act_window">
		<field name="name">Declaração de Importação</field>
		<field name="res_model">br_account.import.declaration</field>
		<field name="view_id" eval="False"/>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="help" type="html">
			<p class="oe_view_nocontent_create"></p>
		</field>		
	</record>
	
	<record id="action_win_br_fc_import_declaration_view1" model="ir.actions.act_window.view">
	    <field name="sequence" eval="1"/>
	    <field name="view_mode">tree</field>
	    <field name="view_id" ref="view_br_fc_import_declaration_tree"/>
	    <field name="act_window_id" ref="action_br_fc_import_declaration"/>
	</record>

	<record id="action_win_br_fc_import_declaration_view2" model="ir.actions.act_window.view">
	    <field name="sequence" eval="2"/>
	    <field name="view_mode">form</field>
	    <field name="view_id" ref="view_br_fc_import_declaration_form"/>
	    <field name="act_window_id" ref="action_br_fc_import_declaration"/>
	</record>
	
	<menuitem id="menu_fc_import" name="Import" parent="menu_foreign_commerce" sequence="5"/>
   <menuitem id="menu_fc_import_declaration" name="Declaração de Importação" parent="br_foreign_commerce.menu_fc_import"
        action="action_br_fc_import_declaration" sequence="5" />	
</odoo>